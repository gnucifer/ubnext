{# slate
  name = Library opening hours
  models[library] = entity:node
#}


{% set today = "now"|date("Y-m-d", date_default_timezone(FALSE)) %}
{% set tomorrow = "+ 1 day"|date("Y-m-d", date_default_timezone(FALSE)) %}

<div class="row">
  <div class="col-xs-12 col-sm-8 col-sm-offset-2">
    <ul class="list-unstyled ub-list-of-links">
    {% for opening_hours in library.field_referenced_opening_hours %}
      <li>
        <div class="row vertical-align">
          {% set opening_hours_date = opening_hours.field_opening_hours_date.value|date("Y-m-d") %}
          {% if opening_hours_date == today %}
            <div class="col-xs-7 col-sm-8">{{ t("Today") }}</div>
          {% elseif opening_hours_date == tomorrow %}
            <div class="col-xs-7 col-sm-8">{{ t("Tomorrow") }}</div>
          {% else %}
            <div class="col-xs-7 col-sm-8">{{ t(opening_hours.field_opening_hours_date.value|date("l")) }}</div>
          {% endif %}

          <div class="col-xs-5 col-sm-4">{{ opening_hours.field_opening_hours.value|date("H:i") ~ " - " ~ opening_hours.field_opening_hours.value2|date("H:i") }}</div>
        </div> <!-- end row -->
      </li>
    {% endfor %}
    </ul>
  </div>
</div> <!-- end row --> 


